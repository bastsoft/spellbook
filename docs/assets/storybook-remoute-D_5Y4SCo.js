var l=Object.defineProperty;var _=(e,t,o)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var i=(e,t,o)=>_(e,typeof t!="symbol"?t+"":t,o);class b{constructor(){i(this,"storybookUrl",null);i(this,"storybokIndex",{entries:{key:{tags:[]}}});i(this,"importFn",null);this._initGlobalStorybookProperties()}_initGlobalStorybookProperties(){window.__STORYBOOK_MODULE_CLIENT_LOGGER__={logger:{}},window.__STORYBOOK_MODULE_PREVIEW_API__={},window.__STORYBOOK_MODULE_CORE_EVENTS__={},window.__STORYBOOK_MODULE_GLOBAL__={},window.global={}}loadStorybokIndex(t){return this.storybookUrl=t,console.log("loadStorybokIndex : ",this.storybookUrl),fetch(this.storybookUrl+"index.json").then(o=>o.json()).then(o=>(this.storybokIndex=o,o)).then(()=>import(this.storybookUrl+"virtual:/@storybook/builder-vite/storybook-stories.js")).then(o=>{this.importFn=o.importFn})}getOnlyStoryFromEntries(){const t={};return Object.values(this.storybokIndex.entries).forEach(o=>{o.type==="story"&&(t[o.title]?t[o.title].name.push(o.name):t[o.title]={...o,name:[o.name]})}),Object.values(t)}getOnlyStoryFromEntriesTree(){return this.getOnlyStoryFromEntries().reduce((t,o)=>{const n=o.title.split("/");let r=t;return o.title==="spellbook"||(n.forEach(s=>{r.children[s]||(r.children[s]={children:{}}),r=r.children[s]}),r.value=o),t},{children:{}})}}export{b as S};
